{"ast":null,"code":"import axios from \"axios\";\nimport { api } from \"../urlConfig\";\nimport store from \"../store\";\nimport { authConstants } from \"../actions/constants\";\nconst token = window.localStorage.getItem(\"token\");\nconst axiosIntance = axios.create({\n  baseURL: api,\n  headers: {\n    Authorization: token ? `Bearer ${token}` : \"sdfsdf sd\"\n  }\n}); // axiosIntance.interceptors.request.use((req) => {\n//   const { auth } = store.getState();\n//   if (auth.token) {\n//     req.headers.Authorization = `Bearer ${auth.token}`;\n//   }\n//   return req;\n// });\n// axiosIntance.interceptors.response.use(\n//   (res) => {\n//     return res;\n//   },\n//   (error) => {\n//     console.log(error.response);\n//     const status = error.response ? error.response.status : 500;\n//     if (status && status === 500) {\n//       localStorage.clear();\n//       store.dispatch({ type: authConstants.LOGOUT_SUCCESS });\n//     }\n//     return Promise.reject(error);\n//   }\n// );\n\nexport default axiosIntance;","map":{"version":3,"sources":["C:/Users/charr/Desktop/ecommerce-flipkart-clone/src/helpers/axios.js"],"names":["axios","api","store","authConstants","token","window","localStorage","getItem","axiosIntance","create","baseURL","headers","Authorization"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,aAAT,QAA8B,sBAA9B;AAEA,MAAMC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAd;AAEA,MAAMC,YAAY,GAAGR,KAAK,CAACS,MAAN,CAAa;AAChCC,EAAAA,OAAO,EAAET,GADuB;AAEhCU,EAAAA,OAAO,EAAE;AACPC,IAAAA,aAAa,EAAER,KAAK,GAAI,UAASA,KAAM,EAAnB,GAAuB;AADpC;AAFuB,CAAb,CAArB,C,CAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeI,YAAf","sourcesContent":["import axios from \"axios\";\nimport { api } from \"../urlConfig\";\nimport store from \"../store\";\nimport { authConstants } from \"../actions/constants\";\n\nconst token = window.localStorage.getItem(\"token\");\n\nconst axiosIntance = axios.create({\n  baseURL: api,\n  headers: {\n    Authorization: token ? `Bearer ${token}` : \"sdfsdf sd\",\n  },\n});\n\n// axiosIntance.interceptors.request.use((req) => {\n//   const { auth } = store.getState();\n//   if (auth.token) {\n//     req.headers.Authorization = `Bearer ${auth.token}`;\n//   }\n//   return req;\n// });\n\n// axiosIntance.interceptors.response.use(\n//   (res) => {\n//     return res;\n//   },\n//   (error) => {\n//     console.log(error.response);\n//     const status = error.response ? error.response.status : 500;\n//     if (status && status === 500) {\n//       localStorage.clear();\n//       store.dispatch({ type: authConstants.LOGOUT_SUCCESS });\n//     }\n//     return Promise.reject(error);\n//   }\n// );\n\nexport default axiosIntance;\n"]},"metadata":{},"sourceType":"module"}